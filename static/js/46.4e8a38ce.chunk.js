"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[46],{46:function(n,e,t){t.r(e),t.d(e,{default:function(){return G}});var r=t(433),a=t(861),o=t(439),c=t(757),i=t.n(c),u=t(243);u.Z.defaults.baseURL="https://api.themoviedb.org/3";var s="7014ff3481c4736f473f368d478f8f78";function p(n,e){return l.apply(this,arguments)}function l(){return(l=(0,a.Z)(i().mark((function n(e,t){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.Z.get("/search/movie?page=1&query=".concat(e,"&api_key=").concat(s,"&page=").concat(t));case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var d,f,h,x,b,Z,g=t(791),v=t(247),m=t(168),k=t(867),y=t(134),j=(0,k.ZP)(y.RB5)(d||(d=(0,m.Z)(["\n  width: 20px;\n  height: 20px;\n  fill: gray;\n  align-self: center;\n"]))),w=k.ZP.form(f||(f=(0,m.Z)(["\n  padding-top: 10px;\n  padding-bottom: 10px;\n  /* background: #000080; */\n  display: flex;\n  /* justify-content: center; */\n"]))),S=k.ZP.input(h||(h=(0,m.Z)(["\n  width: 100%;\n  border-color: black;\n"]))),C=k.ZP.button(x||(x=(0,m.Z)(["\n  position: absolute;\n  background: transparent;\n  border: none;\n  right: 4px;\n  padding: 0px;\n  top: 1px;\n  :hover {\n    :only-child {\n      fill: #000080;\n    }\n  }\n"]))),P=k.ZP.div(b||(b=(0,m.Z)(["\n  position: relative;\n  width: 200px;\n  margin-left: 10px;\n"]))),_=t(184),q=function(n){var e=n.onSearch;return(0,_.jsx)(w,{onSubmit:function(n){n.preventDefault(),e(n.target.search.value)},children:(0,_.jsxs)(P,{children:[(0,_.jsx)(S,{type:"text",name:"search",placeholder:"Search"}),(0,_.jsx)(C,{children:(0,_.jsx)(j,{})})]})})},R=t(671),z=t(144),L=t(136),M=t(104),A=k.ZP.button(Z||(Z=(0,m.Z)(["\n  margin-left: auto;\n  margin-right: auto;\n  display: block;\n  margin-top: 25px;\n  padding: 6px 24px;\n  cursor: pointer;\n  color: white;\n  background: blue;\n  border-radius: 8px;\n  border: 0;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover,\n  &:focus {\n    background: #000080;\n  }\n"]))),B=function(n){(0,L.Z)(t,n);var e=(0,M.Z)(t);function t(){var n;(0,R.Z)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))).onClick=function(){n.props.onloadMore()},n}return(0,z.Z)(t,[{key:"render",value:function(){return(0,_.jsx)(A,{onClick:this.onClick,children:"load more"})}}]),t}(g.Component),D=B,E=t(430),F=t(576),U=t(87),W=t(77),G=function(){var n=(0,g.useState)([]),e=(0,o.Z)(n,2),t=e[0],c=e[1],u=(0,g.useState)(1),s=(0,o.Z)(u,2),l=s[0],d=s[1],f=(0,g.useState)(""),h=(0,o.Z)(f,2),x=h[0],b=h[1],Z=(0,g.useState)(!1),m=(0,o.Z)(Z,2),k=m[0],y=m[1],j=(0,g.useState)(!1),w=(0,o.Z)(j,2),S=w[0],C=w[1],P=(0,U.lr)(),R=(0,o.Z)(P,2),z=R[0],L=R[1];(0,g.useEffect)((function(){function n(){return(n=(0,a.Z)(i().mark((function n(){var e,t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return""===x&&b(null!==(e=z.get("query"))&&void 0!==e?e:""),C(!0),n.prev=2,n.next=5,p(x,l);case 5:t=n.sent,c((function(n){return[].concat((0,r.Z)(n),(0,r.Z)(t.results))})),t.total_pages>l?y(!0):y(!1),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),console.log(n.t0);case 13:return n.prev=13,C(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[2,10,13,16]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[l,x,z]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(q,{onSearch:function(n){n!==x&&(b(n),d(1),c([]),y(!1),L({query:n}))}}),(0,_.jsxs)(F.W,{children:[(0,_.jsx)(W.a,{children:t.map((function(n){return(0,_.jsxs)(W.c,{id:n.id,children:[(0,_.jsx)(v.Z,{arr:n})," "]},n.id)}))}),(0,_.jsx)(E.RL,{visible:S}),k&&(0,_.jsx)(D,{onloadMore:function(){d((function(n){return n+1}))}})]})]})}}}]);
//# sourceMappingURL=46.4e8a38ce.chunk.js.map