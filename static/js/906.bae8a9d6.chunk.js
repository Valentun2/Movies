"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[906],{906:function(n,e,t){t.r(e),t.d(e,{default:function(){return W}});var r=t(433),a=t(861),o=t(439),i=t(757),c=t.n(i),u=t(243);u.Z.defaults.baseURL="https://api.themoviedb.org/3";var s="7014ff3481c4736f473f368d478f8f78";function p(n,e){return l.apply(this,arguments)}function l(){return(l=(0,a.Z)(c().mark((function n(e,t){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.Z.get("/search/movie?page=1&query=".concat(e,"&api_key=").concat(s,"&page=").concat(t));case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var d,f,h,x,b,g,Z=t(791),v=t(247),m=t(956),k=t(168),j=t(867),y=t(134),w=(0,j.ZP)(y.RB5)(d||(d=(0,k.Z)(["\n  width: 20px;\n  height: 20px;\n  fill: gray;\n  align-self: center;\n"]))),S=j.ZP.form(f||(f=(0,k.Z)(["\n  padding-top: 10px;\n  padding-bottom: 10px;\n  /* background: #000080; */\n  display: flex;\n  /* justify-content: center; */\n"]))),C=j.ZP.input(h||(h=(0,k.Z)(["\n  width: 100%;\n  border-color: black;\n"]))),P=j.ZP.button(x||(x=(0,k.Z)(["\n  position: absolute;\n  background: transparent;\n  border: none;\n  right: 4px;\n  padding: 0px;\n  top: 1px;\n  :hover {\n    :only-child {\n      fill: #000080;\n    }\n  }\n"]))),_=j.ZP.div(b||(b=(0,k.Z)(["\n  position: relative;\n  width: 200px;\n  margin-left: 10px;\n"]))),R=t(184),z=function(n){var e=n.onSubmit;return(0,R.jsx)(S,{onSubmit:e,children:(0,R.jsxs)(_,{children:[(0,R.jsx)(C,{type:"text",name:"search",placeholder:"Search"}),(0,R.jsx)(P,{children:(0,R.jsx)(w,{})})]})})},L=t(671),M=t(144),q=t(136),A=t(104),B=j.ZP.button(g||(g=(0,k.Z)(["\n  margin-left: auto;\n  margin-right: auto;\n  display: block;\n  margin-top: 25px;\n  padding: 6px 24px;\n  cursor: pointer;\n  color: white;\n  background: blue;\n  border-radius: 8px;\n  border: 0;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover,\n  &:focus {\n    background: #000080;\n  }\n"]))),D=function(n){(0,q.Z)(t,n);var e=(0,A.Z)(t);function t(){var n;(0,L.Z)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))).onClick=function(){n.props.onloadMore()},n}return(0,M.Z)(t,[{key:"render",value:function(){return(0,R.jsx)(B,{onClick:this.onClick,children:"load more"})}}]),t}(Z.Component),E=D,F=t(430),U=t(576),W=function(){var n=(0,Z.useState)([]),e=(0,o.Z)(n,2),t=e[0],i=e[1],u=(0,Z.useState)(1),s=(0,o.Z)(u,2),l=s[0],d=s[1],f=(0,Z.useState)(""),h=(0,o.Z)(f,2),x=h[0],b=h[1],g=(0,Z.useState)(!1),k=(0,o.Z)(g,2),j=k[0],y=k[1],w=(0,Z.useState)(!1),S=(0,o.Z)(w,2),C=S[0],P=S[1];(0,Z.useEffect)((function(){function n(){return(n=(0,a.Z)(c().mark((function n(){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==x){n.next=2;break}return n.abrupt("return");case 2:return P(!0),n.prev=3,n.next=6,p(x,l);case 6:e=n.sent,i((function(n){return[].concat((0,r.Z)(n),(0,r.Z)(e.results))})),e.total_pages>l?y(!0):y(!1),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),console.log(n.t0);case 14:return n.prev=14,P(!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[3,11,14,17]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[l,x]);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(z,{onSubmit:function(n){n.preventDefault(),n.target.search.value!==x&&(b(n.target.search.value),d(1),i([]),y(!1))}}),(0,R.jsxs)(U.W,{children:[(0,R.jsx)(m.a,{children:t.map((function(n){return(0,R.jsxs)(m.c,{id:n.id,children:[(0,R.jsx)(v.Z,{arr:n})," "]},n.id)}))}),(0,R.jsx)(F.RL,{visible:C}),j&&(0,R.jsx)(E,{onloadMore:function(){d((function(n){return n+1}))}})]})]})}}}]);
//# sourceMappingURL=906.bae8a9d6.chunk.js.map