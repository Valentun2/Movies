"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[906],{906:function(n,e,t){t.r(e),t.d(e,{default:function(){return G}});var r=t(433),a=t(861),o=t(439),c=t(757),i=t.n(c),u=t(243);u.Z.defaults.baseURL="https://api.themoviedb.org/3";var s="7014ff3481c4736f473f368d478f8f78";function p(n,e){return l.apply(this,arguments)}function l(){return(l=(0,a.Z)(i().mark((function n(e,t){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.Z.get("/search/movie?page=1&query=".concat(e,"&api_key=").concat(s,"&page=").concat(t));case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var d,f,h,x,b,Z,g=t(791),v=t(247),m=t(956),k=t(168),y=t(867),j=t(134),w=(0,y.ZP)(j.RB5)(d||(d=(0,k.Z)(["\n  width: 20px;\n  height: 20px;\n  fill: gray;\n  align-self: center;\n"]))),S=y.ZP.form(f||(f=(0,k.Z)(["\n  padding-top: 10px;\n  padding-bottom: 10px;\n  /* background: #000080; */\n  display: flex;\n  /* justify-content: center; */\n"]))),C=y.ZP.input(h||(h=(0,k.Z)(["\n  width: 100%;\n  border-color: black;\n"]))),P=y.ZP.button(x||(x=(0,k.Z)(["\n  position: absolute;\n  background: transparent;\n  border: none;\n  right: 4px;\n  padding: 0px;\n  top: 1px;\n  :hover {\n    :only-child {\n      fill: #000080;\n    }\n  }\n"]))),_=y.ZP.div(b||(b=(0,k.Z)(["\n  position: relative;\n  width: 200px;\n  margin-left: 10px;\n"]))),q=t(184),R=function(n){var e=n.onSearch;return(0,q.jsx)(S,{onSubmit:function(n){n.preventDefault(),e(n.target.search.value)},children:(0,q.jsxs)(_,{children:[(0,q.jsx)(C,{type:"text",name:"search",placeholder:"Search"}),(0,q.jsx)(P,{children:(0,q.jsx)(w,{})})]})})},z=t(671),L=t(144),M=t(136),A=t(104),B=y.ZP.button(Z||(Z=(0,k.Z)(["\n  margin-left: auto;\n  margin-right: auto;\n  display: block;\n  margin-top: 25px;\n  padding: 6px 24px;\n  cursor: pointer;\n  color: white;\n  background: blue;\n  border-radius: 8px;\n  border: 0;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover,\n  &:focus {\n    background: #000080;\n  }\n"]))),D=function(n){(0,M.Z)(t,n);var e=(0,A.Z)(t);function t(){var n;(0,z.Z)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))).onClick=function(){n.props.onloadMore()},n}return(0,L.Z)(t,[{key:"render",value:function(){return(0,q.jsx)(B,{onClick:this.onClick,children:"load more"})}}]),t}(g.Component),E=D,F=t(430),U=t(576),W=t(87),G=function(){var n=(0,g.useState)([]),e=(0,o.Z)(n,2),t=e[0],c=e[1],u=(0,g.useState)(1),s=(0,o.Z)(u,2),l=s[0],d=s[1],f=(0,g.useState)(""),h=(0,o.Z)(f,2),x=h[0],b=h[1],Z=(0,g.useState)(!1),k=(0,o.Z)(Z,2),y=k[0],j=k[1],w=(0,g.useState)(!1),S=(0,o.Z)(w,2),C=S[0],P=S[1],_=(0,W.lr)(),z=(0,o.Z)(_,2),L=z[0],M=z[1];(0,g.useEffect)((function(){function n(){return(n=(0,a.Z)(i().mark((function n(){var e,t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return""===x&&b(null!==(e=L.get("query"))&&void 0!==e?e:""),P(!0),n.prev=2,n.next=5,p(x,l);case 5:t=n.sent,c((function(n){return[].concat((0,r.Z)(n),(0,r.Z)(t.results))})),t.total_pages>l?j(!0):j(!1),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),console.log(n.t0);case 13:return n.prev=13,P(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[2,10,13,16]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[l,x,L]);return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(R,{onSearch:function(n){n!==x&&(b(n),d(1),c([]),j(!1),M({query:n}))}}),(0,q.jsxs)(U.W,{children:[(0,q.jsx)(m.a,{children:t.map((function(n){return(0,q.jsxs)(m.c,{id:n.id,children:[(0,q.jsx)(v.Z,{arr:n})," "]},n.id)}))}),(0,q.jsx)(F.RL,{visible:C}),y&&(0,q.jsx)(E,{onloadMore:function(){d((function(n){return n+1}))}})]})]})}}}]);
//# sourceMappingURL=906.b2873267.chunk.js.map