{"version":3,"file":"static/js/46.4e8a38ce.chunk.js","mappings":"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","sources":["apiSearchMovies.js","components/Seachbar/Seachbar.styled.js","components/Seachbar/Seachbar.js","components/LoadMore/LoadMore.styled.js","components/LoadMore/LoadMore.js","pages/Movies/Movies.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = '7014ff3481c4736f473f368d478f8f78';\n\nexport async function searchMovies(value, page) {\n  const resp = await axios.get(\n    `/search/movie?page=1&query=${value}&api_key=${API_KEY}&page=${page}`\n  );\n  return resp.data;\n}\n","import styled from 'styled-components';\nimport { AiOutlineSearch } from 'react-icons/ai';\n\nexport const Svg = styled(AiOutlineSearch)`\n  width: 20px;\n  height: 20px;\n  fill: gray;\n  align-self: center;\n`;\n\nexport const Form = styled.form`\n  padding-top: 10px;\n  padding-bottom: 10px;\n  /* background: #000080; */\n  display: flex;\n  /* justify-content: center; */\n`;\n\nexport const Input = styled.input`\n  width: 100%;\n  border-color: black;\n`;\nexport const Button = styled.button`\n  position: absolute;\n  background: transparent;\n  border: none;\n  right: 4px;\n  padding: 0px;\n  top: 1px;\n  :hover {\n    :only-child {\n      fill: #000080;\n    }\n  }\n`;\nexport const Div = styled.div`\n  position: relative;\n  width: 200px;\n  margin-left: 10px;\n`;\n","import { Button, Div, Form, Input, Svg } from './Seachbar.styled';\n\nconst Seachbar = ({ onSearch }) => {\n\n  \n\nconst onSubmit = evt => {\n  evt.preventDefault();\n onSearch(evt.target.search.value);\n};\n\n  return (\n    <Form onSubmit={onSubmit}>\n      <Div>\n        <Input type=\"text\" name=\"search\" placeholder=\"Search\" />\n        <Button>\n          <Svg />\n        </Button>\n      </Div>\n    </Form>\n  );\n};\n\nexport default Seachbar;\n","import styled from 'styled-components';\n\nexport const BtnLoadMore = styled.button`\n  margin-left: auto;\n  margin-right: auto;\n  display: block;\n  margin-top: 25px;\n  padding: 6px 24px;\n  cursor: pointer;\n  color: white;\n  background: blue;\n  border-radius: 8px;\n  border: 0;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover,\n  &:focus {\n    background: #000080;\n  }\n`;\n","import { Component } from 'react';\nimport { BtnLoadMore } from './LoadMore.styled';\n\nclass LoadMore extends Component {\n  onClick = () => {\n    this.props.onloadMore();\n  };\n\n  render() {\n    return <BtnLoadMore onClick={this.onClick}>load more</BtnLoadMore>;\n  }\n}\n\nexport default LoadMore;\n","import { searchMovies } from 'apiSearchMovies';\nimport { useState } from 'react';\nimport Movie from 'components/Movie/Movie';\n\nimport Seachbar from 'components/Seachbar/Seachbar';\nimport { useEffect } from 'react';\nimport LoadMore from 'components/LoadMore/LoadMore';\nimport { Watch } from 'react-loader-spinner';\nimport { Container } from 'components/Container.styled';\nimport {   useSearchParams } from 'react-router-dom';\nimport { Item, List } from 'pages/Home/Home.styled';\n\nconst Movies = () => {\n  const [arrayMovies, setArrayMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [query, setQuery] = useState('');\n  const [visibleButton, setVisibleButton] = useState(false);\n  const [loading, setLoading] = useState(false);\nconst [params,setParams]= useSearchParams()\n\n\n\n\n\n\n\n  const onSubmit= (value) => {\n    if (value === query) {\n      return;\n    }\n    setQuery(value);\n    setPage(1);\n    setArrayMovies([]);\n    setVisibleButton(false);\n    setParams({'query':value})\n  };\n\n  useEffect(() => {\n    \n    async function arrMovies() {\n      if (query === '') {\n        setQuery(params.get('query') ?? '')\n        }\n     \n        setLoading(true);\n        try {\n          const movies = await searchMovies(query, page);\n          setArrayMovies(prev => [...prev, ...movies.results]);\n        if (movies.total_pages > page) {\n          setVisibleButton(true);\n        } else {\n          setVisibleButton(false);\n        }\n      } catch (err) {\n        console.log(err);\n      } finally {\n        setLoading(false);\n      }\n    }\n    arrMovies();\n  }, [page, query,params]);\n\n  const loadMore = () => {\n    setPage(prev => prev + 1);\n  };\n\n  return (\n    <>\n      <Seachbar onSearch={onSubmit} />\n      <Container>\n        <List>\n          {arrayMovies.map(movie => {\n            return (\n              <Item key={movie.id} id={movie.id}>\n                <Movie arr={movie} />{' '}\n              </Item>\n            );\n          })}\n        </List>\n        <Watch visible={loading} />\n        {visibleButton && <LoadMore onloadMore={loadMore} />}\n      </Container>\n    </>\n  );\n};\n\nexport default Movies;"],"names":["axios","API_KEY","searchMovies","value","page","resp","data","Svg","styled","AiOutlineSearch","Form","Input","Button","Div","onSearch","onSubmit","evt","preventDefault","target","search","type","name","placeholder","BtnLoadMore","LoadMore","onClick","props","onloadMore","this","Component","useState","arrayMovies","setArrayMovies","setPage","query","setQuery","visibleButton","setVisibleButton","loading","setLoading","useSearchParams","params","setParams","useEffect","get","movies","prev","results","total_pages","console","log","arrMovies","map","movie","id","Movie","arr","visible"],"sourceRoot":""}