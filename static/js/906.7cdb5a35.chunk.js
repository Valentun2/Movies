"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[906],{906:function(n,e,t){t.r(e),t.d(e,{default:function(){return G}});var r=t(433),a=t(861),o=t(439),i=t(757),u=t.n(i),c=t(243);c.Z.defaults.baseURL="https://api.themoviedb.org/3";var s="7014ff3481c4736f473f368d478f8f78";function l(n,e){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)(u().mark((function n(e,t){var r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.get("/search/movie?page=1&query=".concat(e,"&api_key=").concat(s,"&page=").concat(t));case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var d,f,h,x,g,v,b=t(791),Z=t(247),m=t(956),k=t(87),y=t(168),j=t(867),w=t(134),S=(0,j.ZP)(w.RB5)(d||(d=(0,y.Z)(["\n  width: 20px;\n  height: 20px;\n  fill: gray;\n  align-self: center;\n"]))),C=j.ZP.form(f||(f=(0,y.Z)(["\n  padding-top: 10px;\n  padding-bottom: 10px;\n  /* background: #000080; */\n  display: flex;\n  /* justify-content: center; */\n"]))),q=j.ZP.input(h||(h=(0,y.Z)(["\n  width: 100%;\n  border-color: black;\n"]))),P=j.ZP.button(x||(x=(0,y.Z)(["\n  position: absolute;\n  background: transparent;\n  border: none;\n  right: 4px;\n  padding: 0px;\n  top: 1px;\n  :hover {\n    :only-child {\n      fill: #000080;\n    }\n  }\n"]))),_=j.ZP.div(g||(g=(0,y.Z)(["\n  position: relative;\n  width: 200px;\n  margin-left: 10px;\n"]))),R=t(184),z=function(n){var e=n.onSubmit,t=(n.value,(0,k.lr)()),r=(0,o.Z)(t,2),a=r[0],i=r[1];return(0,R.jsx)(C,{onSubmit:e,children:(0,R.jsxs)(_,{children:[(0,R.jsx)(q,{type:"text",name:"search",placeholder:"Search",value:a.get("query"),onChange:function(n){i({query:n.target.value})}}),(0,R.jsx)(P,{children:(0,R.jsx)(S,{})})]})})},L=t(671),M=t(144),A=t(136),B=t(104),D=j.ZP.button(v||(v=(0,y.Z)(["\n  margin-left: auto;\n  margin-right: auto;\n  display: block;\n  margin-top: 25px;\n  padding: 6px 24px;\n  cursor: pointer;\n  color: white;\n  background: blue;\n  border-radius: 8px;\n  border: 0;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover,\n  &:focus {\n    background: #000080;\n  }\n"]))),E=function(n){(0,A.Z)(t,n);var e=(0,B.Z)(t);function t(){var n;(0,L.Z)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))).onClick=function(){n.props.onloadMore()},n}return(0,M.Z)(t,[{key:"render",value:function(){return(0,R.jsx)(D,{onClick:this.onClick,children:"load more"})}}]),t}(b.Component),F=E,U=t(430),W=t(576),G=function(){var n=(0,b.useState)([]),e=(0,o.Z)(n,2),t=e[0],i=e[1],c=(0,b.useState)(1),s=(0,o.Z)(c,2),p=s[0],d=s[1],f=(0,b.useState)(""),h=(0,o.Z)(f,2),x=h[0],g=h[1],v=(0,b.useState)(!1),y=(0,o.Z)(v,2),j=y[0],w=y[1],S=(0,b.useState)(!1),C=(0,o.Z)(S,2),q=C[0],P=C[1],_=(0,k.lr)(),L=(0,o.Z)(_,2),M=L[0],A=L[1];(0,b.useEffect)((function(){function n(){return(n=(0,a.Z)(u().mark((function n(){var e,t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return""===x&&g(null!==(e=M.get("query"))&&void 0!==e?e:""),P(!0),n.prev=2,n.next=5,l(x,p);case 5:t=n.sent,i((function(n){return[].concat((0,r.Z)(n),(0,r.Z)(t.results))})),t.total_pages>p?w(!0):w(!1),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),console.log(n.t0);case 13:return n.prev=13,P(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[2,10,13,16]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[p,x,M]);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(z,{onSubmit:function(n){n.preventDefault(),n.target.search.value!==x&&(g(n.target.search.value),d(1),i([]),w(!1),A({query:n.target.search.value}))},value:M.get("query")}),(0,R.jsxs)(W.W,{children:[(0,R.jsx)(m.a,{children:t.map((function(n){return(0,R.jsxs)(m.c,{id:n.id,children:[(0,R.jsx)(Z.Z,{arr:n})," "]},n.id)}))}),(0,R.jsx)(U.RL,{visible:q}),j&&(0,R.jsx)(F,{onloadMore:function(){d((function(n){return n+1}))}})]})]})}}}]);
//# sourceMappingURL=906.7cdb5a35.chunk.js.map